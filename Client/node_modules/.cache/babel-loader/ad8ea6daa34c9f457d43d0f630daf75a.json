{"ast":null,"code":"import _slicedToArray from\"F:/IsementAdvert/MarkeTution/marketution/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,Component}from'react';import'./Signin.css';import imgUsername from'./images/user.png';import imgPassword from'./images/password.png';import imgfacebook from'./images/facebook.png';import imggoogle from'./images/google.png';import imgsigninpage from'./images/imgsigninpage.png';import{Link}from'react-router-dom';import Axios from'axios';import facebooklogin from'react-facebook-login';// import ProtectedRoute from '../../ProtectedRoute';\n// import {BrowserRouter as Router,Switch,Route} from 'react-router-dom';\n// import Signup from '../signup/Signup';\nimport{useHistory}from'react-router-dom';import{Usercontext}from'../../App';import Facebooklogin from'../facebook/Facebooklogin';import Googlelogin from'../googlelogin/Googlelogin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signin(props){var _useContext=useContext(Usercontext),state=_useContext.state,dispatch=_useContext.dispatch;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userid=_useState2[0],setuserid=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),loginstatus=_useState6[0],setLoginstatus=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),warnmsgusernamepwd=_useState8[0],setWarnmsgusernamepwd=_useState8[1];Axios.defaults.withCredentials=true;// const authentication=()=>{props.auth(true)};\nvar signin=function signin(){Axios.post(\"http://localhost:3030/login\",{userid:userid,password:password}).then(function(response){if(response.data.auth){setLoginstatus(false);localStorage.setItem(\"token\",\"Bearer\"+response.data.token);//  props.changeWord(true);\ndispatch({type:\"USER\",payload:true});history.push(\"/liveclass\");//  setAuthorized(true);\n}else{// console.log(response.data);\n// localStorage.setItem(\"token\",\"Bearer\" + response.data.token);\nsetLoginstatus(true);}});};// useEffect(() => {\n//   Axios.get(\"http://localhost:3030/login\").then((response) =>{\n//     if(response.data.loggedIn===true){\n//       setLoginstatus(response.data.user[0].username)\n//     }\n//   });\n//   // console.log(response);\n// },[]);\nvar userAuthenticated=function userAuthenticated(){Axios.get(\"http://localhost:3030/isUserAuth\",{headers:{\"x-access-token\":localStorage.getItem(\"token\")}}).then(function(response){console.log(response);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"signin\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signinLeft\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"textbox\",children:[/*#__PURE__*/_jsx(\"img\",{src:imgUsername,alt:\"as\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Name\",onChange:function onChange(e){setuserid(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbox\",children:[/*#__PURE__*/_jsx(\"img\",{src:imgPassword,alt:\"AS\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setPassword(e.target.value);},type:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkboxandbutton\",children:[warnmsgusernamepwd,/*#__PURE__*/_jsx(\"button\",{onClick:signin,children:\"LOGIN\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Register Now\"})}),/*#__PURE__*/_jsx(Link,{to:\"/forgotpassword\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Forgot Password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"socialmedia\",children:[/*#__PURE__*/_jsx(Facebooklogin,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-facebook\",children:[/*#__PURE__*/_jsx(\"img\",{src:imgfacebook}),/*#__PURE__*/_jsx(\"button\",{children:\"SIGNUP WITH FACEBOOK\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup-google\",children:/*#__PURE__*/_jsx(Googlelogin,{className:\"Googlelogin\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signinRightContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signinRight\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Back...!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"To keep connected with us please  \",/*#__PURE__*/_jsx(\"br\",{}),\"login with your personal info \"]}),/*#__PURE__*/_jsx(\"img\",{src:imgsigninpage,alt:\"\"})]}),loginstatus]})]});}export default Signin;","map":{"version":3,"sources":["F:/IsementAdvert/MarkeTution/marketution/Client/src/components/signpage/Signin.js"],"names":["React","useState","useContext","Component","imgUsername","imgPassword","imgfacebook","imggoogle","imgsigninpage","Link","Axios","facebooklogin","useHistory","Usercontext","Facebooklogin","Googlelogin","Signin","props","state","dispatch","history","userid","setuserid","password","setPassword","loginstatus","setLoginstatus","warnmsgusernamepwd","setWarnmsgusernamepwd","defaults","withCredentials","signin","post","then","response","data","auth","localStorage","setItem","token","type","payload","push","userAuthenticated","get","headers","getItem","console","log","e","target","value"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,UAAvB,CAAmCC,SAAnC,KAAmD,OAAnD,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,WAAP,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAuB,uBAAvB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CAGA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,sBAA1B,CAGA;AAMA;AAGA;AAEA,OAAQC,UAAR,KAAyB,kBAAzB,CAEA,OAAQC,WAAR,KAA0B,WAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,2BAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,C,wFAUA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAEvB,gBAAwBf,UAAU,CAACW,WAAD,CAAlC,CAAOK,KAAP,aAAOA,KAAP,CAAaC,QAAb,aAAaA,QAAb,CAEA,GAAIC,CAAAA,OAAO,CAACR,UAAU,EAAtB,CAEA,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOoB,MAAP,eAAcC,SAAd,eACA,eAA8BrB,QAAQ,CAAC,EAAD,CAAtC,yCAAOsB,QAAP,eAAgBC,WAAhB,eAGA,eAAkCvB,QAAQ,CAAC,EAAD,CAA1C,yCAAMwB,WAAN,eAAkBC,cAAlB,eAEA,eAAiDzB,QAAQ,CAAC,EAAD,CAAzD,yCAAM0B,kBAAN,eAAyBC,qBAAzB,eAIAlB,KAAK,CAACmB,QAAN,CAAeC,eAAf,CAA+B,IAA/B,CAEA;AAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAK,CAIlBrB,KAAK,CAACsB,IAAN,CAAW,6BAAX,CAAyC,CAEvCX,MAAM,CAACA,MAFgC,CAGzCE,QAAQ,CAACA,QAHgC,CAAzC,EAIGU,IAJH,CAIQ,SAACC,QAAD,CAAc,CAGtB,GAAGA,QAAQ,CAACC,IAAT,CAAcC,IAAjB,CAAsB,CACpBV,cAAc,CAAC,KAAD,CAAd,CACDW,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6B,SAAWJ,QAAQ,CAACC,IAAT,CAAcI,KAAtD,EAED;AACCpB,QAAQ,CAAC,CAACqB,IAAI,CAAC,MAAN,CAAaC,OAAO,CAAC,IAArB,CAAD,CAAR,CACArB,OAAO,CAACsB,IAAR,CAAa,YAAb,EACD;AAEG,CATH,IAaE,CACE;AACA;AAEAhB,cAAc,CAAC,IAAD,CAAd,CACD,CAEF,CA3BD,EA4BD,CAhCD,CAmCA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAGA,GAAMiB,CAAAA,iBAAiB,CAAC,QAAlBA,CAAAA,iBAAkB,EAAI,CAC5BjC,KAAK,CAACkC,GAAN,CAAU,kCAAV,CAA6C,CAE7CC,OAAO,CAAC,CAER,iBAAiBR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAFT,CAFqC,CAA7C,EAOGb,IAPH,CAOQ,SAACC,QAAD,CAAY,CACpBa,OAAO,CAACC,GAAR,CAAYd,QAAZ,EACC,CATD,EAaC,CAdD,CAiBI,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,aAAK,SAAS,CAAC,SAAf,wBAAyB,YAAK,GAAG,CAAE9B,WAAV,CAAuB,GAAG,CAAC,IAA3B,EAAzB,cAA2D,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,WAA/B,CAA2C,QAAQ,CAAE,kBAAC6C,CAAD,CAAM,CAAC3B,SAAS,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CAA0B,CAAtF,EAA3D,GADJ,cAEI,aAAK,SAAS,CAAC,SAAf,wBAAyB,YAAK,GAAG,CAAE9C,WAAV,CAAwB,GAAG,CAAC,IAA5B,EAAzB,cAA4D,cAAO,QAAQ,CAAE,kBAAC4C,CAAD,CAAM,CAACzB,WAAW,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAApD,CAAsD,IAAI,CAAC,UAA3D,CAAsE,WAAW,CAAC,UAAlF,EAA5D,GAFJ,cAII,aAAK,SAAS,CAAC,mBAAf,WAICxB,kBAJD,cAOD,eAAQ,OAAO,CAAGI,MAAlB,mBAPC,GAJJ,cAkBI,aAAK,SAAS,CAAC,UAAf,wBAMI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,uBAAmB,mCAAnB,EANJ,cASI,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,uBAA2B,sCAA3B,EATJ,GAlBJ,cAgCG,aAAK,SAAS,CAAC,aAAf,wBAED,KAAC,aAAD,IAFC,cAGA,aAAK,SAAS,CAAC,iBAAf,wBAAiC,YAAK,GAAG,CAAEzB,WAAV,EAAjC,cAAyD,gDAAzD,GAHA,cAIC,YAAK,SAAS,CAAC,eAAf,uBAA+B,KAAC,WAAD,EAAa,SAAS,CAAC,aAAvB,EAA/B,EAJD,GAhCH,GADJ,cA4CI,aAAK,SAAS,CAAC,sBAAf,wBAEA,aAAK,SAAS,CAAC,aAAf,wBACI,wCADJ,cAGI,uEAAqC,aAArC,oCAHJ,cAKQ,YAAK,GAAG,CAAEE,aAAV,CAAyB,GAAG,CAAC,EAA7B,EALR,GAFA,CAUCiB,WAVD,GA5CJ,GADJ,CAkEH,CAED,cAAeT,CAAAA,MAAf","sourcesContent":["import React,{useState,useContext, Component} from 'react';\r\nimport './Signin.css';\r\nimport imgUsername from'./images/user.png';\r\nimport imgPassword from'./images/password.png';\r\n\r\nimport imgfacebook from './images/facebook.png'\r\nimport imggoogle from './images/google.png'\r\nimport imgsigninpage from './images/imgsigninpage.png'\r\n\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport Axios from 'axios';\r\n\r\nimport facebooklogin from 'react-facebook-login'\r\n\r\n\r\n// import ProtectedRoute from '../../ProtectedRoute';\r\n\r\n\r\n\r\n\r\n\r\n// import {BrowserRouter as Router,Switch,Route} from 'react-router-dom';\r\n\r\n\r\n// import Signup from '../signup/Signup';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport {Usercontext} from '../../App';\r\nimport Facebooklogin from '../facebook/Facebooklogin';\r\nimport Googlelogin from '../googlelogin/Googlelogin';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Signin(props) {\r\n\r\nconst {state,dispatch}= useContext(Usercontext);\r\n\r\nlet history=useHistory();\r\n\r\nconst [userid,setuserid] =useState('');\r\nconst [password,setPassword] =useState('');\r\n\r\n\r\nconst[loginstatus,setLoginstatus]=useState('');\r\n\r\nconst[warnmsgusernamepwd,setWarnmsgusernamepwd] =useState('');\r\n\r\n\r\n\r\nAxios.defaults.withCredentials=true;\r\n  \r\n// const authentication=()=>{props.auth(true)};\r\n\r\n\r\nconst signin = () =>{\r\n\r\n  \r\n\r\n  Axios.post(\"http://localhost:3030/login\",{\r\n\r\n    userid:userid,\r\n  password:password,\r\n  }).then((response) => {\r\n\r\n  \r\n  if(response.data.auth){\r\n    setLoginstatus(false);\r\n   localStorage.setItem(\"token\",\"Bearer\" + response.data.token);\r\n \r\n  //  props.changeWord(true);\r\n   dispatch({type:\"USER\",payload:true})\r\n   history.push(\"/liveclass\");\r\n  //  setAuthorized(true);\r\n\r\n    }\r\n\r\n    else\r\n    \r\n    {\r\n      // console.log(response.data);\r\n      // localStorage.setItem(\"token\",\"Bearer\" + response.data.token);\r\n      \r\n      setLoginstatus(true);\r\n    }\r\n    \r\n  });\r\n};\r\n\r\n\r\n// useEffect(() => {\r\n//   Axios.get(\"http://localhost:3030/login\").then((response) =>{\r\n//     if(response.data.loggedIn===true){\r\n//       setLoginstatus(response.data.user[0].username)\r\n      \r\n//     }\r\n    \r\n//   });\r\n//   // console.log(response);\r\n// },[]);\r\n\r\n\r\nconst userAuthenticated=()=>{\r\nAxios.get(\"http://localhost:3030/isUserAuth\",{\r\n\r\nheaders:{\r\n\r\n\"x-access-token\":localStorage.getItem(\"token\"),\r\n\r\n},\r\n}).then((response)=>{\r\nconsole.log(response);\r\n})\r\n\r\n\r\n\r\n}\r\n\r\n\r\n    return (\r\n        <div className=\"signin\">\r\n            <div className=\"signinLeft\">\r\n                <div className=\"textbox\"><img src={imgUsername} alt=\"as\" /><input type=\"text\" placeholder=\"User Name\" onChange={(e)=> {setuserid(e.target.value)}} /></div> \r\n                <div className=\"textbox\"><img src={imgPassword } alt=\"AS\" /><input onChange={(e)=> {setPassword(e.target.value)}} type=\"password\" placeholder=\"Password\" /></div>\r\n\r\n                <div className=\"checkboxandbutton\">\r\n                {/* <label htmlFor=\"lbl01\">Remember Me</label> */}\r\n                {/* <input type=\"checkbox\" name=\"lbl01\" /> */}\r\n\r\n                {warnmsgusernamepwd}\r\n\r\n                \r\n               <button onClick ={signin}>LOGIN</button>\r\n                \r\n                \r\n                </div>\r\n\r\n               \r\n\r\n                <div className=\"register\">\r\n\r\n\r\n        \r\n\r\n\r\n                    <Link to=\"/signup\"><p>Register Now</p></Link>\r\n                          \r\n                    \r\n                    <Link to=\"/forgotpassword\"><p>Forgot Password</p></Link>\r\n                    \r\n\r\n                </div>\r\n\r\n               <div className=\"socialmedia\">\r\n\r\n              <Facebooklogin />\r\n               <div className=\"signup-facebook\"><img src={imgfacebook}/><button>SIGNUP WITH FACEBOOK</button></div>  \r\n                <div className=\"signup-google\"><Googlelogin className=\"Googlelogin\" /></div> \r\n                {/* <div className=\"signup-google\"><img src={imggoogle}/><button>SIGNUP WITH GOOGLE</button> </div>  */}\r\n              \r\n               </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"signinRightContainer\">\r\n\r\n            <div className=\"signinRight\">\r\n                <h1>Welcome Back...!</h1>\r\n\r\n                <p>To keep connected with us please  <br/>\r\n                    login with your personal info </p>\r\n                    <img src={imgsigninpage} alt=\"\" />\r\n            </div>\r\n\r\n            {loginstatus}\r\n\r\n            </div>\r\n\r\n            \r\n\r\n            \r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n"]},"metadata":{},"sourceType":"module"}